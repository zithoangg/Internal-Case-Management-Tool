/* Improve variables: fluid typography, slightly stronger muted color for contrast */
:root{
    --bg:#f4f7fb;
    --card:#ffffff;
    --muted:#56606b;            /* slightly darker for readability */
    --accent:#2b8cff;
    --accent-2:#3bb3a3;
    --danger:#e74c3c;
    --text:#17202a;
    --radius:12px;
    --shadow: 0 8px 28px rgba(12,24,40,0.08);
    --gap:22px;

    /* fluid type helpers */
    --fs-base: clamp(15px, 1.2vw + 12px, 18px);
    --fs-h1: clamp(20px, 2.4vw + 12px, 32px);
    --fs-h2: clamp(16px, 1.6vw + 12px, 20px);

    font-synthesis: none;
}

@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap');

* { box-sizing: border-box; }
html,body { height:100%; }
body {
    margin:0;
    background: linear-gradient(180deg, var(--bg), #eef3fb 60%);
    font-family: 'Inter', system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    color:var(--text);
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
    padding:28px;
}

/* Header */
.header{ max-width:1100px; margin:0 auto 18px; position:relative; }
.header-inner { display:flex; align-items:center; justify-content:center; gap:12px; }
.header h1 { margin:0; font-weight:800; color:var(--accent); letter-spacing:-0.5px; font-size:1.8rem; text-align:center; }
.brand { position:absolute; right:28px; top:18px; color:var(--muted); }

/* Layout - single-column stack so every part sits below the previous */
.container {
    max-width:1100px;
    margin: 0 auto;
    display: grid;
    grid-template-columns: 1fr; /* single column - everything stacked vertically */
    gap: var(--gap);
    align-items:start;
    row-gap: 28px;
}

/* Ensure cards keep their previous visual styling */
.card {
    background: linear-gradient(180deg, rgba(255,255,255,0.98), var(--card));
    border-radius: var(--radius);
    padding: 24px;
    box-shadow: var(--shadow);
    border: 1px solid rgba(30,40,60,0.04);
    margin-bottom: 0;
    box-sizing: border-box;
}

/* full-width overrides are no longer needed but harmless */
#title-card { grid-column: 1 / -1; }
#soap-card { grid-column: 1 / -1; }

h2 { margin:0 0 14px; color:#0f3a57; font-size:1.15rem; }
h3.subtle { margin:14px 0 8px; color:var(--muted); font-weight:600; font-size:.95rem; }

/* Form grid inside cards */
.form-grid {
    display:grid;
    grid-template-columns: repeat(2, 1fr);
    gap:14px;
    margin-bottom:14px;
}

/* Inputs */
label { display:block; font-weight:700; margin-bottom:8px; color:#123857; font-size:.92rem; }
input[type="text"], input[type="date"], input[type="datetime-local"], select, textarea {
    width:100%;
    padding:12px 14px;
    border-radius:10px;
    border:1px solid rgba(20,30,60,0.07);
    background: linear-gradient(180deg, #fff, #fbfdff);
    font-size:0.96rem;
    color:var(--text);
    outline:none;
    transition: box-shadow .12s ease, border-color .12s ease, transform .06s;
    min-height:42px;
}
input::placeholder, textarea::placeholder { color:#98a0aa; font-style:italic; opacity:0.9; }
textarea { min-height:120px; resize:vertical; }

/* focus */
input:focus, textarea:focus, select:focus {
    box-shadow: 0 8px 30px rgba(43,140,255,0.10);
    border-color: var(--accent);
    transform: translateY(-1px);
}

/* Buttons */
.actions { margin-top:14px; display:flex; gap:10px; align-items:center; }
button {
    background: linear-gradient(180deg, var(--accent), #1f6fe0);
    color:white;
    padding:10px 14px;
    border-radius:10px;
    border: none;
    cursor:pointer;
    font-weight:800;
    box-shadow: 0 8px 24px rgba(43,140,255,0.14);
    transition: transform .08s ease, box-shadow .08s ease, opacity .08s;
}
button:hover { transform: translateY(-3px); }
button:active { transform: translateY(0); }
button.secondary {
    background: linear-gradient(180deg,#f7f9ff,#eef4ff);
    color:#123857;
    box-shadow:none;
    border:1px solid rgba(20,30,60,0.06);
}

/* Output area */
.output {
    margin-top:12px;
    background: linear-gradient(180deg,#fafbff,#f6f9ff);
    border:1px solid rgba(20,30,60,0.04);
    min-height:120px;
    padding:12px;
    border-radius:10px;
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, "Roboto Mono", monospace;
}

/* Ensure the generated content area shows a clear vertical gap even when empty */
.case-content {
    min-height:20px; /* creates one visible empty line when there's no content */
    line-height:1.4;
}

/* slightly larger SOAP output */
.soap-output { min-height: 220px; }

/* Risk table */
.risk-table {
    margin-top:12px; 
    display:block;            /* block so each .risk-row is full width */
    width:100%;
}

.risk-row,
.risk-row.header {
    display: grid;
    grid-template-columns: 44px 240px 1fr 120px; /* match .risk-row */
    gap: 12px;
    align-items: center;      /* vertically center header text */
    padding: 14px;            /* same padding as rows */
    box-sizing: border-box;
    background: transparent;  /* keep visual style */
    border: none;
    width: 100%;
}

/* make sure header .col padding/align matches data rows */
.risk-row.header .col { padding: 0 6px; }
.risk-row.header .col-no { text-align: center; }
.risk-row.header .col-yn { display:flex; justify-content:center; align-items:center; }

/* Keep existing row styles intact */
.risk-row {
    display: grid;
    grid-template-columns: 44px 220px 1fr 110px; /* explicit tracks so header and rows align */
    gap: 12px;
    align-items: center;
    padding: 14px;
    box-sizing: border-box;
    width: 100%;
}

/* keep header visual subtle but aligned */
.risk-row.header {
    background: transparent;
    border: none;
    font-weight: 700;
    color: var(--muted);
}

/* Make sure column padding / alignment match for header and rows */
.risk-row .col,
.risk-row.header .col { padding: 0 6px; box-sizing: border-box; }
.risk-row.header .col-no { text-align: center; }
.col-no { color:var(--muted); font-weight:700; text-align:center; }
.col-risk { font-weight:700; color:#123857; }
.col-desc { color:#4b5563; font-size:.95rem; line-height:1.4; }

/* Y/N column: keep controls inside the card, no offsets */
.col-yn { 
    display:flex; 
    gap:12px; 
    align-items:center; 
    justify-content:flex-end; 
    padding-right:6px; 
    box-sizing:border-box; 
}

/* Circle toggles */
.col-yn input[type="radio"] { display:none; }
.circle {
    width:40px;
    height:40px;
    border-radius:50%;
    display:inline-flex;
    align-items:center;
    justify-content:center;
    border:2px solid rgba(30,40,60,0.12);
    background: linear-gradient(180deg,#fff,#f7fbff);
    color:#2d3748;
    box-shadow: 0 6px 14px rgba(20,30,60,0.04);
    margin:0;
    transform:none; /* no translate offsets */
}
.col-yn label.circle.yes { border-color: rgba(59,179,163,0.18); }
.col-yn label.circle.no  { border-color: rgba(200,210,220,0.08); }

.col-yn input[type="radio"]:checked + label.circle {
    background: linear-gradient(180deg, var(--accent), #1f6fe0);
    color:#fff;
    border-color:var(--accent);
    box-shadow: 0 10px 26px rgba(43,140,255,0.16);
    transform: translateY(-2px); /* subtle lift only */
}

/* Muted helper text */
.muted { color:var(--muted); font-size:.9rem; margin:6px 0 12px; }

/* Risk output */
.risk-output {
    margin-top:12px;
    padding:12px;
    background: linear-gradient(180deg,#fff,#fbfdff);
    border-radius:8px;
    border:1px solid rgba(20,30,60,0.03);
    min-height:80px;
    font-family: ui-monospace, Menlo, Monaco, monospace;
    color:#123857;
}

/* Footer */
.footer { max-width:1100px; margin:22px auto 0; color:var(--muted); text-align:center; }

/* --- animations: entrance + subtle hover --- */
@keyframes enter {
  from { transform: translateY(8px); opacity: 0; }
  to   { transform: translateY(0); opacity: 1; }
}

@keyframes fadeInUp {
  from { transform: translateY(8px); opacity: 0; }
  to   { transform: translateY(0); opacity: 1; }
}

/* card entrance */
.card {
  animation: enter .36s cubic-bezier(.22,.9,.3,1) both;
}

/* risk-row entrance + hover polish */
.risk-row {
  will-change: transform, box-shadow, opacity;
  transition: transform .12s ease, box-shadow .12s ease, opacity .16s ease;
  opacity: 0;
  transform: translateY(8px);
  animation: fadeInUp .38s cubic-bezier(.22,.9,.3,1) forwards;
  animation-delay: .06s;
}

.risk-row.header { 
  opacity: 1; 
  transform: none; 
  animation: none;
}

/* small stagger for subsequent rows (keeps simple and predictable) */
.risk-table .risk-row:not(.header) { animation-delay: .06s; }
.risk-table .risk-row:not(.header):nth-of-type(2)  { animation-delay: .08s; }
.risk-table .risk-row:not(.header):nth-of-type(3)  { animation-delay: .10s; }
.risk-table .risk-row:not(.header):nth-of-type(4)  { animation-delay: .12s; }
.risk-table .risk-row:not(.header):nth-of-type(5)  { animation-delay: .14s; }

/* hover lift */
.risk-row:hover {
  transform: translateY(-6px) scale(1.01);
  box-shadow: 0 14px 36px rgba(12,24,40,0.06);
}

/* circle transitions already present; ensure smooth transform origin */
.circle {
  transition: transform .12s ease, box-shadow .12s ease, background .12s ease;
  transform-origin: center center;
  will-change: transform, box-shadow, background;
}

/* Responsive */
@media (max-width: 980px) {
    .form-grid { grid-template-columns: 1fr; }
    .risk-row { grid-template-columns: 36px 1fr; grid-auto-rows: auto; row-gap:8px; }
    .col-yn { grid-column: 1 / -1; justify-content:flex-start; gap:8px; padding-right:0; }
    .brand { position:static; margin-left:12px; }
}
